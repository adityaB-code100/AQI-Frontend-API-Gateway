{% extends "base.html" %}
{% block title %}Edit Profile Â· Personal{% endblock %}

{% block content %}
<div class="flex items-center justify-center min-h-screen px-4">
  <div class="bg-white dark:bg-gray-900 rounded-2xl shadow-xl w-full max-w-xl overflow-hidden transition duration-300">
    
    <!-- Header -->
    <div class="bg-gradient-to-r from-indigo-500 to-blue-500 text-white p-6">
      <h1 class="text-lg font-bold">Edit Personal Profile</h1>
    </div>

    <!-- Body -->
    <div class="p-6">
      <form method="post" class="space-y-5">
        
        <!-- Name -->
        <div>
          <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Name</label>
          <input name="name" value="{{ user.name }}" required
            class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
                   dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200" />
        </div>

        <!-- Mobile -->
        <div>
          <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Mobile</label>
          <input name="mobile" value="{{ user.mobile }}" pattern="[0-9]{10}" maxlength="10" required
            class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
                   dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200" />
        </div>

        <!-- Village -->
        <div>
          <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Village</label>
          <select name="village" required
            class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
                   dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200">
            {% set villages = ['Nashik','Mumbai','Nanded','Pune','Nagpur'] %}
            {% for v in villages %}
              <option value="{{ v }}" {% if user.village == v %}selected{% endif %}>{{ v }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- Disease -->
        <div>
          <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Disease</label>
          <select name="disease" required
            class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
                   dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200">
            {% for d in ['None','Asthma','Bronchitis','COPD','Allergic Rhinitis'] %}
              <option {% if user.disease == d %}selected{% endif %}>{{ d }}</option>
            {% endfor %}
          </select>
        </div>
        <div>
  <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Language</label>
  <select name="target" required
    class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
           dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200">
    {% for code, lang in {
      'en': 'English',
      'es': 'Spanish',
      'fr': 'French',
      'de': 'German',
      'ja': 'Japanese',
      'zh-CN': 'Chinese (Simplified)',
      'ar': 'Arabic',
      'ru': 'Russian',
      'pt': 'Portuguese',
      'it': 'Italian',
      'hi': 'Hindi'
    }.items() %}
      <option value="{{ code }}" {% if user.language == code %}selected{% endif %}>
        {{ lang }}
      </option>
    {% endfor %}
  </select>
</div>


        <!-- Age -->
        <div>
          <label class="block text-sm font-semibold text-gray-600 dark:text-gray-300">Age</label>
          <input name="age" type="number" value="{{ user.age }}" min="1" max="120" required
            class="w-full mt-2 px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-blue-400 
                   dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200" />
        </div>

        <!-- Buttons -->
        <div class="flex items-center justify-end gap-3">
          <a href="{{ url_for('profile') }}" 
             class="px-5 py-2 rounded-xl border border-gray-300 dark:border-gray-600 
                    text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition">
            Cancel
          </a>
          <button type="submit"
            class="px-5 py-2 rounded-xl bg-gradient-to-r from-indigo-500 to-blue-500 text-white font-semibold 
                   hover:from-indigo-600 hover:to-blue-600 shadow-md transition">
            Save
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
{% endblock %}
